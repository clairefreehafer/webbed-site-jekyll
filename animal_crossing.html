---
title: animal crossing
layout: animal_crossing
theme: animal_crossing
---

<!-- TODO: make different list pages for each game -->
<!-- TODO: try moving more logic into plugin -->

{%- assign pages_by_game = site.animal_crossing | group_by: "game" | sort: "name" -%}
{%- assign games = "new_horizons" -%}

{%- for game in games -%}

<h2>{{ game | replace: "_", " " }}</h2>

  {%- assign game_pages = pages_by_game | where: "name", game | sort: "name" -%}
  {%- assign pages_by_category = game_pages[0].items | group_by: "category" -%}
  {%- assign pages_with_no_category = pages_by_category | find: "name", "" -%}
  {%- assign sorted_pages_with_no_category = pages_with_no_category.items | sort: "date" -%}

  {% animal_crossing_list %}
    sorted_pages_with_no_category
  {% endanimal_crossing_list %}

  {%- for category in pages_by_category -%}
    {%- if category.name.size > 0 %}

    <h3>{{ category.name }}</h3>

    {%- assign sorted_pages = category.items | sort: "date" -%}

      {% animal_crossing_list %}
        sorted_pages
      {% endanimal_crossing_list %}

    {%- endif -%}

  {% endfor %}
{%- endfor %} 
